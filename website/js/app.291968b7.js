(function(e){function t(t){for(var a,n,l=t[0],o=t[1],c=t[2],u=0,m=[];u<l.length;u++)n=l[u],r[n]&&m.push(r[n][0]),r[n]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);p&&p(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,l=1;l<s.length;l++){var o=s[l];0!==r[o]&&(a=!1)}a&&(i.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},r={app:0},i=[];function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var p=o;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var a=s("27fb"),r=s.n(a);r.a},"08a2":function(e,t,s){"use strict";var a=s("d9f6"),r=s.n(a);r.a},"0a87":function(e,t,s){"use strict";var a=s("dff0"),r=s.n(a);r.a},"0eb8":function(e,t,s){},"27fb":function(e,t,s){},3430:function(e,t,s){},"3a87":function(e,t,s){},"4a4e":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("a026"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("header",[s("nav",{staticClass:"navbar has-shadow",attrs:{id:"topnav"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"navbar-brand"},[s("div",{staticClass:"navbar-item"},[s("h1",{directives:[{name:"show",rawName:"v-show",value:!e.mainPageActive,expression:"!mainPageActive"}],staticClass:"title is-size-4 logoColor2",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.goToMain()}}},[e._v("biobtree")])]),s("a",{staticClass:"navbar-burger burger",attrs:{"aria-label":"menu","aria-expanded":"false","data-target":"navMenu"},on:{click:function(t){e.burgerBarActive=!e.burgerBarActive}}},[s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{"aria-hidden":"true"}})])]),s("div",{class:{"navbar-menu":!0,"is-active":e.burgerBarActive},staticStyle:{"margin-right":"-0.5rem"},attrs:{id:"navMenu"}},[s("div",{staticClass:"navbar-start",staticStyle:{"flex-grow":"1","justify-content":"center"}},[e.resultActive?s("label",{staticClass:"pageTitle title is-size-5"},[s("div",[s("span",{staticStyle:{"padding-right":"5px"}},[s("a",{staticClass:"button is-primary is-small is-outlined",on:{click:function(t){return e.newSearchQuery()}}},[s("span",[e._v("Search")]),e._m(0)])]),s("span",[s("a",{staticClass:"button is-info is-small is-outlined",on:{click:function(t){return e.newMfQuery()}}},[s("span",[e._v("Mapping")]),e._m(1)])])])]):e._e(),e.settingsActive?s("h1",{staticClass:"pageTitle title is-size-5"},[e._v("Settings")]):e._e()]),s("div",{staticClass:"navbar-end"},[s("a",{directives:[{name:"show",rawName:"v-show",value:!e.mainPageActive,expression:"!mainPageActive"}],staticClass:"navbar-item",on:{click:e.goToSettings}},[e._v("Settings")]),s("a",{directives:[{name:"show",rawName:"v-show",value:!e.mainPageActive,expression:"!mainPageActive"}],staticClass:"navbar-item",attrs:{target:"_blank",href:"https://github.com/tamerh/biobtree"}},[e._m(2)])])])])])]),s("main",{staticClass:"mainContent"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.mainPageActive,expression:"mainPageActive"}],staticClass:"hero-body is-fullheight"},[s("div",{staticClass:"container has-text-centered"},[s("h1",{staticClass:"title is-size-1 logoColor",staticStyle:{"padding-bottom":"10px"}},[e._v("biobtree")]),s("h2",{staticClass:"subtitle"}),s("div",{staticClass:"columns is-gapless"},[s("div",{staticClass:"column"}),s("div",{staticClass:"column is-four-fifths "},[s("div",{staticClass:"control has-icons-left has-icons-right"},[s("p",{staticClass:"control is-expanded field has-addons"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"input is-medium control",attrs:{type:"search",placeholder:e.searchPlaceHolder,maxlength:"10000",autofocus:""},domProps:{value:e.searchTerm},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)},e.searchKeyUp],blur:function(t){e.showExample=!0},input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),e._m(3),s("span",{staticClass:"control"},[s("a",{class:{"is-loading":e.searchLoading,button:!0,"is-info":!0,"is-medium":!0},on:{click:e.search}},[e._v("Search")])])])])]),s("div",{staticClass:"column"})]),s("br"),e._m(4),s("div",{staticClass:"columns is-gapless"},[s("div",{staticClass:"column"}),s("div",{staticClass:"column is-four-fifths"},[s("div",{staticClass:"control has-icons-left has-icons-right"},[s("p",{staticClass:"control is-expanded field has-addons"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.mapFilterTerm,expression:"mapFilterTerm"}],staticClass:"input is-medium control",attrs:{type:"search",placeholder:e.mapFilterPlaceHolder,maxlength:"300",autofocus:""},domProps:{value:e.mapFilterTerm},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.mapFilter(t)},e.mapFilterKeyUp],blur:function(t){e.showExample=!0},input:function(t){t.target.composing||(e.mapFilterTerm=t.target.value)}}}),e._m(5),s("span",{staticClass:"control"},[s("a",{class:{"is-loading":e.mapFilterLoading,button:!0,"is-success":!0,"is-medium":!0},on:{click:e.mapFilter}},[e._v("Map")])])])])]),s("div",{staticClass:"column"})])])]),s("bulk",{attrs:{bulkActive:e.bulkActive,xref_conf:e.xref_conf},on:{"close-bulk":function(t){e.bulkActive=!1}}}),s("about",{attrs:{aboutActive:e.aboutActive},on:{"close-about":function(t){e.aboutActive=!1}}}),s("api",{attrs:{apiActive:e.apiActive},on:{"close-api":function(t){e.apiActive=!1}}}),s("settings",{attrs:{settingsActive:e.settingsActive,app_conf:e.app_conf,xref_conf:e.xref_conf},on:{"apply-settings":function(t){return e.applySettings()}}}),s("biobtree-result",{ref:"resultComp",attrs:{mobile:e.mobile,xref_conf:e.xref_conf,app_conf:e.app_conf,fetcher:e.app_model},on:{notifyuser:e.notifyUser}}),s("notifications",{attrs:{group:"appwarn",position:"top center",classes:"notification is-warning"}}),s("notifications",{attrs:{group:"error",position:"top center",classes:"notification is-danger"}}),s("notifications",{attrs:{group:"success",position:"top center",classes:"notification is-success"}})],1),e._m(6)])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-plus"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-plus"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon"},[s("i",{staticClass:"fab fa-github"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-medium is-left"},[s("i",{staticClass:"fa fa-search"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns is-gapless"},[s("div",{staticClass:"column"},[s("p",{staticClass:"logoColor title is-size-5"},[e._v("Apply Chain Mappings")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-medium is-left"},[s("i",{staticClass:"fa fa-map-signs"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",[s("div",{staticClass:"content has-text-left is-size-6"})])}],n=(s("386d"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.aboutActive,expression:"aboutActive"}],staticClass:"hero-body is-fullheight"},[e._m(0)])}),l=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"content"},[s("p",{staticClass:"has-text-centered is-size-4 has-text-success"},[e._v("About")]),s("p",[e._v("\n        More information and some stats will come to this page. For any issue or error please contact from github\n        "),s("a",{attrs:{href:"https://www.github.com/tamerh/biobtree",target:"_blank"}},[e._v("page")]),e._v(".\n      ")])])])}],o={name:"About",props:{aboutActive:{type:Boolean,required:!0}}},c=o,p=(s("cd8d"),s("2877")),u=Object(p["a"])(c,n,l,!1,null,"6b34f9bc",null),m=u.exports,d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"resultContainer container is-fullhd"},[s("p"),s("p",{staticClass:"logoColor title is-size-5",staticStyle:{"padding-bottom":"5px"}},[e._v("Example Use Cases")]),e._l(e.usecases,function(t,a){return s("div",{staticClass:"columns"},[s("div",{staticClass:"column"}),s("div",{staticClass:"tags column is-four-fifths"},[s("a",{staticClass:"is-link",on:{click:function(s){return e.execCatUseCases(t)}}},[e._v("all "),"mix"!=a?[e._v(e._s(a))]:e._e(),e._v(" base examples")],2),e._l(t,function(t,a){return s("a",{staticClass:"tag",on:{click:function(s){return e.execUseCase(t)}}},[e._v(e._s(t.name))])})],2),s("div",{staticClass:"column"})])})],2)},h=[],f={name:"Usecase",props:{usecases:{type:Object,required:!0}},methods:{exampleQuery:function(e){},execUseCase:function(e){this.$emit("usecase",e)},execCatUseCases:function(e){this.$emit("catusecases",e)}}},_=f,v=(s("5dc5"),Object(p["a"])(_,d,h,!1,null,"2458a6d7",null)),y=v.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.bulkActive,expression:"bulkActive"}],staticClass:"hero-body is-fullheight"},[s("div",{staticClass:"container"},[s("p",{staticClass:"has-text-centered is-size-4 has-text-success"},[e._v("Bulk Query")]),s("p",[e._v("Bulk Query allow to send query of large numbers of identifers or special keywords. Upload your text file which contains identifers or special keywords seperated by new line.")]),s("div",[s("div",{staticClass:"columns"},[e._m(0),s("div",{staticClass:"column is-two-fifths",staticStyle:{display:"none"}},[s("label",{staticClass:"label"},[e._v("Select mapping dataset")]),s("multiselect",{attrs:{multiple:!0,"track-by":"id",label:"name",placeholder:"Select a dataset",options:e.options,searchable:!0},scopedSlots:e._u([{key:"singleLabel",fn:function(t){var a=t.option;return[s("strong",[e._v(e._s(a.name))])]}}]),model:{value:e.selecteddataset,callback:function(t){e.selecteddataset=t},expression:"selecteddataset"}})],1),s("div",{staticClass:"column is-pulled-right"},[s("button",{staticClass:"button is-warning",staticStyle:{"margin-top":"30px"},on:{click:e.upload}},[e._v("Start")])])])])])])},g=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"column"},[s("label",{staticClass:"label"},[e._v("Upload file")]),s("input",{staticClass:"uploadForm__input",attrs:{type:"file",name:"file",id:"inputfile",accept:"*.txt"}})])}],x=(s("55dd"),s("7f7f"),{name:"Bulk",props:{bulkActive:{type:Boolean,required:!0},xref_conf:{type:Object,required:!0}},data:function(){return{files:[],options:[],selecteddataset:""}},methods:{upload:function(){var e=document.querySelector('input[type="file"]'),t=new FormData;t.append("file",e.files[0]),fetch("http://localhost:8080/bulk/",{method:"POST",body:t}).then(function(e){return e.blob()}).then(function(e){var t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="test-file.txt",s.style.display="none",document.body.appendChild(s),s.click()}).catch(function(e){throw e})}},beforeMount:function(){for(var e in this.xref_conf)this.options.push({id:parseInt(e),name:this.xref_conf[e].name});this.options.sort(function(e,t){var s=e.name.toLowerCase(),a=t.name.toLowerCase();return s<a?-1:s>a?1:0})}}),C=x,T=(s("bb02"),Object(p["a"])(C,b,g,!1,null,"c516fda0",null)),w=T.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal",class:{"is-active":e.apiActive}},[s("div",{staticClass:"modal-background",on:{click:function(t){return e.$emit("close-api")}}}),e._m(0),s("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(t){return e.$emit("close-api")}}})])},F=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head is-radiusless",staticStyle:{padding:"10px"}},[s("p",{staticClass:"modal-card-title has-text-centered"},[e._v("API")])]),s("section",{staticClass:"modal-card-body"},[s("div",{staticClass:"content"},[s("p",[e._v("\n          XrefMap has an API with following functions. Usage example with javascript can be found\n          "),s("a",[e._v("here")]),e._v(".\n        ")]),s("h4",[e._v("Search")]),s("p",[e._v("Search calls take list of comma separated identifiers as a parameter. Example,")]),s("div",{staticClass:"box has-background-white-bis exBox"},[s("p",[e._v("www.ebi.ac.uk/~tgur/xrefmap/api.php?ids=P15498")])]),s("h4",[e._v("Pagination")]),s("p",[e._v("Each identifier search can have maximum 200 cross reference results. If it has more results, they are retrieved via pagination call. Pagination index starts from 0. Total page count is required to be specified with pageTotal parameter. This value is calculated via main search call. Example,")]),s("div",{staticClass:"box has-background-white-bis exBox"},[s("p",[e._v("www.ebi.ac.uk/~tgur/xrefmap/ws/api.php?ids=P15498&src=8&page=0&pageTotal=2")])]),s("h4",[e._v("Filtering")]),s("p",[e._v("Results can be filtered based on datasets. Example,")]),s("div",{staticClass:"box has-background-white-bis exBox"},[s("p",[e._v("www.ebi.ac.uk/~tgur/ws/api.php?ids=P15498&src=8&filters=20,77")])]),s("p",[e._v("For pagination and filtering calls, dataset identifiers needs to be specified. Dataset identifiers are accessed from main search response.")]),s("p",[s("strong",[e._v("Limitations:")]),e._v(" API only supports binary response format. JSON format might be added in future.\n          HTTP GET supported only, HTTP POST will be added later versions.\n        ")])])])])}],q={name:"About",props:{apiActive:{type:Boolean,required:!0}}},k=q,M=Object(p["a"])(k,A,F,!1,null,"ba2fdf5a",null),P=M.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.settingsActive,expression:"settingsActive"}],staticClass:"settings container is-fullhd"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("label",{staticClass:"label"},[e._v("Results per page")]),s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.app_conf.page_size_new,expression:"app_conf.page_size_new"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.app_conf,"page_size_new",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"9"}},[e._v("9")]),s("option",{attrs:{value:"18"}},[e._v("18")]),s("option",{attrs:{value:"36"}},[e._v("36")]),s("option",{attrs:{value:"63"}},[e._v("72")]),s("option",{attrs:{value:"90"}},[e._v("90")]),s("option",{attrs:{value:"150"}},[e._v("144")]),s("option",{attrs:{value:"200"}},[e._v("200")])])])]),s("div",{staticClass:"column"},[s("label",{staticClass:"label"},[e._v("Box color")]),s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.app_conf.box_color_new,expression:"app_conf.box_color_new"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.app_conf,"box_color_new",t.target.multiple?s:s[0])}}},e._l(e.app_conf.colors,function(t,a){return s("option",{key:a,domProps:{value:t}},[e._v(e._s(a))])}),0)])]),s("div",{staticClass:"column"},[s("label",{staticClass:"label"},[e._v("Selected Box color")]),s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.app_conf.selected_box_color_new,expression:"app_conf.selected_box_color_new"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.app_conf,"selected_box_color_new",t.target.multiple?s:s[0])}}},e._l(e.app_conf.colors,function(t,a){return s("option",{key:a,domProps:{value:t}},[e._v(e._s(a))])}),0)])]),s("div",{staticClass:"column is-pulled-right"},[s("label",{staticClass:"label"},[e._v(" \t")]),s("button",{staticClass:"button is-warning",on:{click:e.apply}},[e._v("Apply")])])]),s("div",[s("h1",{staticClass:"has-text-centered has-text-weight-bold is-is-size-1"},[e._v("Datasets")]),s("table",{staticClass:"table is-bordered is-narrow is-hoverable is-fullwidth"},[e._m(0),s("tbody",e._l(e.xref_conf,function(t,a){return s("tr",[s("td",[e._v(e._s(t.name))]),s("td",[e._v(e._s(t.id))]),s("td",[e._v(e._s(a))])])}),0)])])])},N=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",[e._v("name")]),s("th",[e._v("id")]),s("th",[e._v("numeric id")])])])}],Q={name:"Settings",props:{settingsActive:{type:Boolean,required:!0},app_conf:{type:Object,required:!0},xref_conf:{type:Object,required:!0}},data:function(){return{perPageResult:12,options:[]}},methods:{apply:function(){this.$emit("apply-settings")}},beforeMount:function(){for(var e in this.xref_conf)this.xref_conf[e].linkdataset||this.options.push({id:parseInt(e),name:this.xref_conf[e].name});this.options.sort(function(e,t){var s=e.name.toLowerCase(),a=t.name.toLowerCase();return s<a?-1:s>a?1:0})}},I=Q,H=(s("79db"),Object(p["a"])(I,S,N,!1,null,"3367dd47",null)),E=H.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.app_model.queries.length>0?s("div",{staticClass:"resultContainer container is-fullhd"},[e.app_model.queries.length>1?s("div",{staticClass:"querybox"},[s("div",{staticClass:"field is-grouped is-grouped-multiline"},e._l(e.app_model.queries,function(t,a){return s("div",{staticClass:"control"},[s("div",{staticClass:"tags has-addons"},[s("a",{directives:[{name:"show",rawName:"v-show",value:!e.app_model.queries[a].edit,expression:"!app_model.queries[index].edit"}],class:{tag:!0,"is-link":a==e.selectedQueryIndex},attrs:{title:"double click to name the query"},on:{click:function(t){return e.selectQuery(a)},dblclick:function(t){return e.enableQueryEdit(a)}}},[e._v(e._s(e.queryLabel(a)))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.app_model.queries[a].name,expression:"app_model.queries[index].name"},{name:"show",rawName:"v-show",value:e.app_model.queries[a].edit,expression:"app_model.queries[index].edit"}],staticClass:"is-small",domProps:{value:e.app_model.queries[a].name},on:{blur:function(t){return e.disableQueryEdit(a)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.disableQueryEdit(a)},input:function(t){t.target.composing||e.$set(e.app_model.queries[a],"name",t.target.value)}}}),s("a",{staticClass:"tag is-delete",on:{click:function(t){return e.deleteQuery(a)}}})])])}),0)]):e._e(),1==e.app_model.queries[e.selectedQueryIndex].type?s("div",{staticClass:"mapfilter"},[s("div",{staticClass:"control has-icons-left"},[s("p",{staticClass:"control is-expanded field has-addons"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.app_model.queries[e.selectedQueryIndex].searchTerm,expression:"app_model.queries[selectedQueryIndex].searchTerm"}],ref:"searchbox",staticClass:"input is-normal control",attrs:{type:"search",maxlength:"30000",placeholder:"Terms"},domProps:{value:e.app_model.queries[e.selectedQueryIndex].searchTerm},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.mapFilter(t)},input:function(t){t.target.composing||e.$set(e.app_model.queries[e.selectedQueryIndex],"searchTerm",t.target.value)}}}),e._m(0)])]),s("div",[s("multiselect",{directives:[{name:"show",rawName:"v-show",value:this.app_model.queries[this.selectedQueryIndex].showDatasets,expression:"this.app_model.queries[this.selectedQueryIndex].showDatasets"}],attrs:{multiple:!1,"track-by":"id",label:"name",placeholder:"Type at least 3 letters e.g uniprot",options:e.options,searchable:!0,"open-direction":"bottom","internal-search":!1,"show-no-results":!1,"show-no-options":!1,"reset-after":!0},on:{"search-change":e.findDataset,select:e.onDatasetSelect},scopedSlots:e._u([{key:"singleLabel",fn:function(t){var a=t.option;return[s("strong",[e._v(e._s(a.name))])]}}],null,!1,2784876651),model:{value:e.app_conf.global_filter_datasets_new,callback:function(t){e.$set(e.app_conf,"global_filter_datasets_new",t)},expression:"app_conf.global_filter_datasets_new"}})],1),s("div",{staticClass:"control has-icons-left"},[s("p",{staticClass:"control is-expanded field has-addons"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.app_model.queries[e.selectedQueryIndex].mapFilterTerm,expression:"app_model.queries[selectedQueryIndex].mapFilterTerm"}],ref:"searchbox",staticClass:"input is-normal control",attrs:{type:"search",maxlength:"300",placeholder:"MapFilter query"},domProps:{value:e.app_model.queries[e.selectedQueryIndex].mapFilterTerm},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.mapFilter(t)},input:function(t){t.target.composing||e.$set(e.app_model.queries[e.selectedQueryIndex],"mapFilterTerm",t.target.value)}}}),e._m(1),s("span",{staticClass:"control"},[s("a",{class:{"is-loading":e.app_model.queries[e.selectedQueryIndex].loading,button:!0,"is-success":!0,"is-normal":!0},on:{click:e.mapFilter}},[e._v("Map")])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.app_model.queries[e.selectedQueryIndex].retrieved,expression:"app_model.queries[selectedQueryIndex].retrieved"}],staticClass:"actions"},[s("div",[s("span",[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.app_model.queries[e.selectedQueryIndex].attributes,expression:"app_model.queries[selectedQueryIndex].attributes"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.app_model.queries[e.selectedQueryIndex].attributes)?e._i(e.app_model.queries[e.selectedQueryIndex].attributes,null)>-1:e.app_model.queries[e.selectedQueryIndex].attributes},on:{change:function(t){var s=e.app_model.queries[e.selectedQueryIndex].attributes,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);a.checked?n<0&&e.$set(e.app_model.queries[e.selectedQueryIndex],"attributes",s.concat([i])):n>-1&&e.$set(e.app_model.queries[e.selectedQueryIndex],"attributes",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.app_model.queries[e.selectedQueryIndex],"attributes",r)}}}),e._v(" Attributes")])]),s("span",[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.app_model.queries[e.selectedQueryIndex].showDatasets,expression:"app_model.queries[selectedQueryIndex].showDatasets"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.app_model.queries[e.selectedQueryIndex].showDatasets)?e._i(e.app_model.queries[e.selectedQueryIndex].showDatasets,null)>-1:e.app_model.queries[e.selectedQueryIndex].showDatasets},on:{change:function(t){var s=e.app_model.queries[e.selectedQueryIndex].showDatasets,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);a.checked?n<0&&e.$set(e.app_model.queries[e.selectedQueryIndex],"showDatasets",s.concat([i])):n>-1&&e.$set(e.app_model.queries[e.selectedQueryIndex],"showDatasets",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.app_model.queries[e.selectedQueryIndex],"showDatasets",r)}}}),e._v("Set dataset "),s("label",{directives:[{name:"show",rawName:"v-show",value:e.app_model.queries[this.selectedQueryIndex].selectedDatasetName.length>0,expression:"app_model.queries[this.selectedQueryIndex].selectedDatasetName.length>0"}],staticClass:"has-text-info has-text-weight-bold"},[e._v(e._s(this.app_model.queries[this.selectedQueryIndex].selectedDatasetName))])])]),s("span",[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showUrl,expression:"showUrl"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showUrl)?e._i(e.showUrl,null)>-1:e.showUrl},on:{change:function(t){var s=e.showUrl,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);a.checked?n<0&&(e.showUrl=s.concat([i])):n>-1&&(e.showUrl=s.slice(0,n).concat(s.slice(n+1)))}else e.showUrl=r}}}),e._v("REST url")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showUrl,expression:"showUrl"}]},[s("a",{staticClass:"exlinkcolor",attrs:{href:e.app_model.queries[e.selectedQueryIndex].restURL,target:"_blank"}},[e._v("\n            "+e._s(e.app_model.queries[e.selectedQueryIndex].restURL)+"\n          ")])]),s("div",[s("a",{directives:[{name:"show",rawName:"v-show",value:e.app_model.queries[e.selectedQueryIndex].nextPageKey&&e.app_model.queries[e.selectedQueryIndex].nextPageKey.length>0,expression:"app_model.queries[selectedQueryIndex].nextPageKey && app_model.queries[selectedQueryIndex].nextPageKey.length>0"}],class:{"is-loading":e.nextLoading,"is-normal":!0,"is-pulled-right":!0},on:{click:e.mapFilterMore}},[e._v("Load More result")])])])]):s("div",{staticClass:"search"},[s("div",{staticClass:"control has-icons-left"},[s("p",{staticClass:"control is-expanded field has-addons"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.app_model.queries[e.selectedQueryIndex].searchTerm,expression:"app_model.queries[selectedQueryIndex].searchTerm"}],ref:"searchbox",staticClass:"input is-normal control",attrs:{type:"search",placeholder:"Search",size:e.topSearchBoxSize,maxlength:"300"},domProps:{value:e.app_model.queries[e.selectedQueryIndex].searchTerm},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newSearch(t)},e.searchKeyUp],input:function(t){t.target.composing||e.$set(e.app_model.queries[e.selectedQueryIndex],"searchTerm",t.target.value)}}}),e._m(2),s("span",{staticClass:"control"},[s("a",{class:{"is-loading":e.app_model.queries[e.selectedQueryIndex].loading,button:!0,"is-info":!0,"is-normal":!0},on:{click:e.newSearch}},[e._v("Search")])])])]),e.app_model.queries[e.selectedQueryIndex].filterActive?s("div",{staticClass:"control has-icons-left"},[s("p",{staticClass:"is-expanded field has-addons"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.app_model.queries[e.selectedQueryIndex].filter,expression:"app_model.queries[selectedQueryIndex].filter"}],ref:"filter",staticClass:"input is-normal control",attrs:{type:"search",placeholder:'Add filter e.g ensembl.genome=="homo_sapiens"',size:e.topSearchBoxSize,maxlength:"300"},domProps:{value:e.app_model.queries[e.selectedQueryIndex].filter},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)},e.searchKeyUp],input:function(t){t.target.composing||e.$set(e.app_model.queries[e.selectedQueryIndex],"filter",t.target.value)}}}),e._m(3)])]):e._e(),s("div",[s("multiselect",{directives:[{name:"show",rawName:"v-show",value:this.app_model.queries[this.selectedQueryIndex].showDatasets,expression:"this.app_model.queries[this.selectedQueryIndex].showDatasets"}],attrs:{multiple:!1,"track-by":"id",label:"name",placeholder:"Type at least 3 letters e.g uniprot",options:e.options,searchable:!0,"open-direction":"bottom","internal-search":!1,"show-no-results":!1,"show-no-options":!1,"reset-after":!0},on:{"search-change":e.findDataset,select:e.onDatasetSelect},scopedSlots:e._u([{key:"singleLabel",fn:function(t){var a=t.option;return[s("strong",[e._v(e._s(a.name))])]}}],null,!1,2784876651),model:{value:e.app_conf.global_filter_datasets_new,callback:function(t){e.$set(e.app_conf,"global_filter_datasets_new",t)},expression:"app_conf.global_filter_datasets_new"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.app_model.queries[e.selectedQueryIndex].retrieved,expression:"app_model.queries[selectedQueryIndex].retrieved"}],staticClass:"actions"},[s("div",[s("span",[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.app_model.queries[e.selectedQueryIndex].filterActive,expression:"app_model.queries[selectedQueryIndex].filterActive"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.app_model.queries[e.selectedQueryIndex].filterActive)?e._i(e.app_model.queries[e.selectedQueryIndex].filterActive,null)>-1:e.app_model.queries[e.selectedQueryIndex].filterActive},on:{change:function(t){var s=e.app_model.queries[e.selectedQueryIndex].filterActive,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);a.checked?n<0&&e.$set(e.app_model.queries[e.selectedQueryIndex],"filterActive",s.concat([i])):n>-1&&e.$set(e.app_model.queries[e.selectedQueryIndex],"filterActive",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.app_model.queries[e.selectedQueryIndex],"filterActive",r)}}}),e._v("Add filter")])]),s("span",[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.app_model.queries[e.selectedQueryIndex].showDatasets,expression:"app_model.queries[selectedQueryIndex].showDatasets"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.app_model.queries[e.selectedQueryIndex].showDatasets)?e._i(e.app_model.queries[e.selectedQueryIndex].showDatasets,null)>-1:e.app_model.queries[e.selectedQueryIndex].showDatasets},on:{change:function(t){var s=e.app_model.queries[e.selectedQueryIndex].showDatasets,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);a.checked?n<0&&e.$set(e.app_model.queries[e.selectedQueryIndex],"showDatasets",s.concat([i])):n>-1&&e.$set(e.app_model.queries[e.selectedQueryIndex],"showDatasets",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.app_model.queries[e.selectedQueryIndex],"showDatasets",r)}}}),e._v("Set dataset "),s("label",{directives:[{name:"show",rawName:"v-show",value:e.app_model.queries[this.selectedQueryIndex].selectedDatasetName.length>0,expression:"app_model.queries[this.selectedQueryIndex].selectedDatasetName.length>0"}],staticClass:"has-text-info has-text-weight-bold"},[e._v(e._s(this.app_model.queries[this.selectedQueryIndex].selectedDatasetName))])])]),s("span",[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showUrl,expression:"showUrl"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showUrl)?e._i(e.showUrl,null)>-1:e.showUrl},on:{change:function(t){var s=e.showUrl,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);a.checked?n<0&&(e.showUrl=s.concat([i])):n>-1&&(e.showUrl=s.slice(0,n).concat(s.slice(n+1)))}else e.showUrl=r}}}),e._v("REST url")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showUrl,expression:"showUrl"}]},[s("span",[s("a",{staticClass:"exlinkcolor",attrs:{href:e.app_model.queries[e.selectedQueryIndex].restURL,target:"_blank"}},[e._v("\n            "+e._s(e.app_model.queries[e.selectedQueryIndex].restURL)+"\n          ")])])]),s("div",[e.app_model.queries[e.selectedQueryIndex]&&e.app_model.queries[e.selectedQueryIndex].nextPageKey&&e.app_model.queries[e.selectedQueryIndex].nextPageKey.length>0?s("a",{staticClass:"is-pulled-right is-normal",on:{click:e.search}},[e._v("Load More result")]):e._e()])])])]):e._e(),s("search-main",{directives:[{name:"show",rawName:"v-show",value:e.app_model.queries[e.selectedQueryIndex]&&0==e.app_model.queries[e.selectedQueryIndex].type,expression:"app_model.queries[selectedQueryIndex] && app_model.queries[selectedQueryIndex].type==0"}],ref:"searchComp",attrs:{mobile:e.mobile,xref_conf:e.xref_conf,app_conf:e.app_conf,app_model:e.app_model}}),s("map-filter",{directives:[{name:"show",rawName:"v-show",value:e.app_model.queries[e.selectedQueryIndex]&&1==e.app_model.queries[e.selectedQueryIndex].type,expression:"app_model.queries[selectedQueryIndex] && app_model.queries[selectedQueryIndex].type==1"}],ref:"mapFilterComp",attrs:{mobile:e.mobile,xref_conf:e.xref_conf,app_conf:e.app_conf,app_model:e.app_model}})],1)},R=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-normal is-left"},[s("i",{staticClass:"fa fa-search"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-normal is-left"},[s("i",{staticClass:"fa fa-map-signs"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-normal is-left"},[s("i",{staticClass:"fa fa-search"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-normal is-left"},[s("i",{staticClass:"fa fa-filter"})])}],B=(s("28a5"),s("f559"),s("6762"),s("2fdb"),s("d538")),L=s.n(B),$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mapFilterResult container is-fullhd"},[e.app_model.all_map_results[e.resultIndex]&&e.app_model.all_map_results[e.resultIndex].length>0?s("div",{staticClass:"resultTitle"},[e._v("Results")]):e._e(),e.app_model.all_map_results[e.resultIndex]&&e.app_model.all_map_results[e.resultIndex].length>0?s("table",{staticClass:"table is-bordered is-narrow is-hoverable is-fullwidth"},[e._m(0),e._l(e.app_model.all_map_results[e.resultIndex],function(t,a){return s("tbody",e._l(t.targets,function(a,r){return s("tr",[s("td",[e._v(e._s(r+1))]),s("td",[r>0?[e._v("〃")]:e._e(),0==r?[e._v(e._s(e.xref_conf[t.source.dataset].name)+" - ")]:e._e(),!e.app_model.queries[e.queryIndex].attributes&&0==r&&t.source.keyword&&t.source.keyword.length>0?[e._v(e._s(t.source.keyword)+" - ")]:e._e(),e.app_model.queries[e.queryIndex].attributes||0!=r?e._e():[e._v(e._s(t.source.identifier))],e.app_model.queries[e.queryIndex].attributes&&0==r?[t.source.url&&t.source.url.length>0?s("a",{attrs:{href:t.source.url,target:"_blank"}},[e._v(e._s(t.source.identifier))]):s("label",[e._v(e._s(t.source.identifier))]),s("div",{directives:[{name:"show",rawName:"v-show",value:a&&!t.source.Attributes.Empty&&e.app_model.queries[e.queryIndex].attributes,expression:"res && !sub_res.source.Attributes.Empty && app_model.queries[queryIndex].attributes"}]},[s("vue-json-pretty",{attrs:{path:"res",data:t.source.Attributes,showDoubleQuotes:!1,deep:2}})],1)]:e._e()],2),s("td",[e.app_model.queries[e.queryIndex].attributes?e._e():[e._v(e._s(a.identifier))],e.app_model.queries[e.queryIndex].attributes?[a.url&&a.url.length>0?s("a",{attrs:{href:a.url,target:"_blank"}},[e._v(e._s(a.identifier))]):s("label",[e._v(e._s(a.identifier))]),s("div",{directives:[{name:"show",rawName:"v-show",value:a&&!a.Attributes.Empty&&e.app_model.queries[e.queryIndex].attributes,expression:"res && !res.Attributes.Empty && app_model.queries[queryIndex].attributes"}]},[s("vue-json-pretty",{attrs:{path:"res",data:a.Attributes,showDoubleQuotes:!1,deep:2}})],1)]:e._e()],2)])}),0)})],2):e._e()])},D=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th"),s("th",[e._v("Source")]),s("th",[e._v("Mapping")])])])}],O={name:"map-filter",props:{xref_conf:{type:Object,required:!0},app_conf:{type:Object,required:!0},app_model:{type:Object,required:!0},mobile:{type:Boolean,required:!0}},data:function(){return{mapFilterActive:!1,nextLoading:!1,restUrl:"",showUrl:!1,resultIndex:0,queryIndex:0}},components:{VueJsonPretty:L.a},methods:{processMapFilter:function(e,t){this.app_model.queries[t[0]].nextPageKey=this.app_model.processMPResults(e,t[0]),this.app_model.queries[t[0]].restURL=t[1],this.app_model.queries[t[0]].loading=!1,this.app_model.queries[t[0]].retrieved=!0},mapFilter:function(e){if(this.queryIndex=e,this.app_model.queries[e].searchTerm=this.app_model.queries[e].searchTerm.trim(),this.app_model.queries[e].mapFilterTerm=this.app_model.queries[e].mapFilterTerm.trim(),0==this.app_model.queries[e].searchTerm.length||0==this.app_model.queries[e].mapFilterTerm.length)return!1;if(1==this.app_model.queries[e].searchTerm.length)return!1;var t=[e,""];if(this.mapFilterActive=!0,this.app_model.queries[e].searchTerm.startsWith("alias:")){var s=this.app_model.queries[e].searchTerm.split("alias:")[1];if(s.length<=1)return!1;this.app_model.queries[e].loading=!0,this.$root.$data.fetcher.mapFilter(this.app_model.queries[e].searchTerm,this.app_model.queries[e].mapFilterTerm,this.app_model.queries[e].nextPageKey,this.app_model.queries[e].selectedDataset,this.processMapFilter.bind(this),t)}else this.app_model.queries[e].loading=!0,this.$root.$data.fetcher.mapFilter(this.app_model.queries[e].searchTerm,this.app_model.queries[e].mapFilterTerm,this.app_model.queries[e].nextPageKey,this.app_model.queries[e].selectedDataset,this.processMapFilter.bind(this),t)},resultDivClass:function(e){return e%2==0?"resultDivOdd":"resultDivEven"},selectQuery:function(e){this.queryIndex=e,this.resultIndex=e-this.app_model.previousSearchQueryCount(e),this.app_model.queries[e].searchTerm.length>0&&this.app_model.queries[e].mapFilterTerm.length>0&&!this.app_model.queries[e].retrieved&&this.mapFilter(e)},reset:function(){this.resultIndex=0}}},j=O,K=(s("941b"),Object(p["a"])(j,$,D,!1,null,"217e9bb0",null)),z=K.exports,G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.app_model.all_sub_results[e.resultIndex]&&e.app_model.all_sub_results[e.resultIndex].length>0?s("div",{staticClass:"resultTitle"},[e._v("Results")]):e._e(),e._l(e.app_model.all_sub_results[e.resultIndex],function(t,a){return e.app_model.all_sub_results[e.resultIndex]?s("div",{class:e.resultDivClass(a)},[s("div",{staticClass:"resultContainer container is-fullhd"},[s("box-view",{attrs:{mobile:e.mobile,sub_res:t,xref_conf:e.xref_conf,app_conf:e.app_conf,app_model:e.app_model}})],1)]):e._e()})],2)},X=[],J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{resultBox:!e.mobile,resultBoxFirst:!e.parent_sub_res}},[s("div",{staticClass:"legend"},[e.sub_res.showResults&&e.sub_res.count>0?[e._v("   "+e._s(e.sub_res.count.toLocaleString())+" Results for ")]:e._e(),s("a",{attrs:{href:e.sub_res.url,target:"_blank"}},[e._v(e._s(e.xref_conf[""+e.sub_res.dataset].name)+" "+e._s(e.sub_res.identifier)+" "+e._s(e.sub_res.keyword))]),s("a",{directives:[{name:"show",rawName:"v-show",value:e.sub_res.depth>0,expression:"sub_res.depth>0"}],staticClass:"actionIcon icon",attrs:{title:"Remove"},on:{click:function(t){return e.removeXref(e.sub_res,e.parent_sub_res)}}},[s("i",{staticClass:"fas fa-trash-alt"})]),s("a",{directives:[{name:"show",rawName:"v-show",value:e.sub_res.showResults,expression:"sub_res.showResults"}],staticClass:"actionIcon icon",attrs:{title:"Filter"},on:{click:function(t){e.sub_res.filterModalActive=!0}}},[s("i",{staticClass:"fas fa-filter fa-1x",staticStyle:{position:"relative",top:"2px"}})]),s("a",{directives:[{name:"show",rawName:"v-show",value:e.sub_res.showResults,expression:"sub_res.showResults"}],staticClass:"actionIcon icon",attrs:{title:"Hide results"},on:{click:function(t){return e.hideResults(e.sub_res)}}},[s("i",{staticClass:"fas fa-eye-slash"})]),s("a",{directives:[{name:"show",rawName:"v-show",value:!e.sub_res.showResults,expression:"!sub_res.showResults"}],staticClass:"actionIcon icon",attrs:{title:"Show results"},on:{click:function(t){return e.showResults(e.sub_res)}}},[s("i",{staticClass:"fas fa-eye"})]),s("a",{directives:[{name:"show",rawName:"v-show",value:!e.parent_sub_res,expression:"!parent_sub_res"}],staticClass:"actionIcon icon",attrs:{title:"Show selection list"},on:{click:function(t){e.sub_res.treeModal=!0}}},[s("i",{staticClass:"fas fa-list-ul"})])],2),s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:e.sub_res.showResults,expression:"sub_res.showResults"}],staticClass:"xrefs"},[s("div",{staticClass:"allEntryBox"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.sub_res.Attributes.Empty,expression:"!sub_res.Attributes.Empty"}]},[e._m(0),s("vue-json-pretty",{attrs:{path:"res",data:e.sub_res.Attributes,showDoubleQuotes:!1,deep:3}})],1),e._m(1),s("div",{staticClass:"flex-container",attrs:{id:"sub_res"+e.sub_res.counter}},[e.sub_res.count<=0?s("span",[e._v("No result to display due to the active filters.")]):e._e(),e._l(e.sub_res.displayEntries,function(t){return s("div",{style:t.style},[s("p",[e._v("\n              "+e._s(e.xref_conf[""+t.dataset].name)+"\n              "),s("a",{directives:[{name:"show",rawName:"v-show",value:!t.selected,expression:"!entry.selected"}],on:{click:function(s){return e.selectXref(e.sub_res.identifier,e.sub_res.dataset,t.identifier,t.dataset,e.sub_res,t)}}},[s("i",{staticClass:"fas fa-plus-circle plusi"})])]),s("p",[s("small",[e._v(e._s(t.label))])])])})],2),s("div",{directives:[{name:"show",rawName:"v-show",value:e.sub_res.maxClientPage>0,expression:"sub_res.maxClientPage > 0"}],staticClass:"has-text-centered pagingDiv"},[s("a",{directives:[{name:"show",rawName:"v-show",value:e.sub_res.clientPage>0,expression:"sub_res.clientPage > 0"}],attrs:{title:"Previous Page"},on:{click:function(t){return e.previousPage(e.sub_res)}}},[s("i",{staticClass:"fas fa-arrow-left"})]),e._v("\n            Page "+e._s(e.sub_res.clientPage+1)+" of "+e._s(e.sub_res.maxClientPage+1)+"  \n          "),s("a",{directives:[{name:"show",rawName:"v-show",value:e.sub_res.maxClientPage>0&&e.sub_res.clientPage<e.sub_res.maxClientPage,expression:"sub_res.maxClientPage > 0 && sub_res.clientPage<sub_res.maxClientPage"}],attrs:{title:"Next Page"},on:{click:function(t){return e.nextPage(e.sub_res)}}},[s("i",{staticClass:"fas fa-arrow-right"})])])])]),s("div",{staticClass:"modal",class:{"is-active":e.sub_res.filterModalActive}},[s("div",{staticClass:"modal-background",on:{click:function(t){e.sub_res.filterModalActive=!1}}}),s("div",{staticClass:"modal-content box"},[e._m(2),s("p",[s("a",{on:{click:function(t){return e.selectAllFilter(e.sub_res)}}},[e._v("Select all")]),e._v("   "),s("a",{on:{click:function(t){return e.deSelectAllFilter(e.sub_res)}}},[e._v("Select none")])]),s("div",{staticClass:"flex-container2"},e._l(e.sub_res.dataset_counts,function(t){return s("div",[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"domain_count.selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:function(s){var a=t.selected,r=s.target,i=!!r.checked;if(Array.isArray(a)){var n=null,l=e._i(a,n);r.checked?l<0&&e.$set(t,"selected",a.concat([n])):l>-1&&e.$set(t,"selected",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(t,"selected",i)}}}),e._v("\n              "+e._s(t.filterLabel)+"\n            ")])])}),0),s("div",{staticClass:"buttons has-addons is-right"},[s("button",{class:{"is-loading":e.filterLoading,button:!0,"is-warning":!0,"is-medium":!0},on:{click:function(t){return e.applyFilter(e.sub_res)}}},[e._v("Apply")])])]),s("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(t){e.sub_res.filterModalActive=!1}}})])]),s("transition-group",{attrs:{name:"list",tag:"div"}},e._l(e.sub_res.selectedXrefs,function(t,a){return s("div",{key:t.identifier,staticStyle:{"margin-top":"10px"}},[s("box-view",{attrs:{mobile:e.mobile,parent_sub_res:e.sub_res,sub_res:t,xref_conf:e.xref_conf,app_conf:e.app_conf,app_model:e.app_model}})],1)}),0),e.parent_sub_res?e._e():[s("div",{staticClass:"modal",class:{"is-active":e.sub_res.treeModal}},[s("div",{staticClass:"modal-background",on:{click:function(t){e.sub_res.treeModal=!1}}}),s("div",{staticClass:"modal-content box"},[e._m(3),s("p",{staticClass:"tree"},[s("a",{attrs:{href:e.sub_res.url,target:"_blank"}},[e._v(e._s(e.xref_conf[""+e.sub_res.dataset].name)+" "+e._s(e.sub_res.identifier))])]),s("ul",{staticClass:"tree"},[e._l(e.sub_res.selectedXrefs,function(t){return[s("tree-view",{attrs:{sel_sub_res:t,xref_conf:e.xref_conf,app_conf:e.app_conf}})]})],2)]),s("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(t){e.sub_res.treeModal=!1}}})])]],2)},V=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[s("strong",[e._v("Attributes")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[s("strong",[e._v("Mapped references")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"has-text-centered"},[s("strong",[e._v("Filter mapped references by dataset")]),e._v("     ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[s("strong",[e._v("Summary view")])])}],W=(s("5df3"),s("4f7f"),s("ac6a"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("a",{attrs:{href:e.sel_sub_res.url,target:"_blank"}},[e._v(e._s(e.xref_conf[""+e.sel_sub_res.dataset].name)+" "+e._s(e.sel_sub_res.identifier))]),e.sel_sub_res.selectedXrefs.length>0?s("ul",[e._l(e.sel_sub_res.selectedXrefs,function(t){return[s("tree-view",{attrs:{sel_sub_res:t,xref_conf:e.$root.$data.xref_conf,app_conf:e.$root.$data.app_conf}})]})],2):e._e()])}),Y=[],Z={name:"tree-view",props:{sel_sub_res:{type:Object,required:!0},parent_sub_res:{type:Object},xref_conf:{type:Object,required:!0},app_conf:{type:Object,required:!0}},data:function(){return{}},methods:{}},ee=Z,te=(s("afb1"),Object(p["a"])(ee,W,Y,!1,null,"3e1db54e",null)),se=te.exports,ae={name:"box-view",components:{"tree-view":se,VueJsonPretty:L.a},props:{sub_res:{type:Object,required:!0},parent_sub_res:{type:Object},xref_conf:{type:Object,required:!0},app_conf:{type:Object,required:!0},app_model:{type:Object,required:!0},mobile:{type:Boolean,required:!0}},data:function(){return{results:null,testclass:"dfsdfsa",lastSelectedRes:null,xrefSelected:!1,filterLoading:!1}},methods:{processSelectedXref:function(e,t){this.lastSelectedRes=this.app_model.processSelectedXref(e,t),this.xrefSelected=!0},selectXref:function(e,t,s,a,r,i){var n=[e,t,s,a,r,i];this.$root.$data.fetcher.searchEntry(s,this.xref_conf[a].id,this.processSelectedXref.bind(this),n)},processFilteredResults:function(e,t,s,a){t.selectedXrefs=[],t.filterModalActive=!1,this.filterLoading=!1,a?this.$notify({group:"error",title:"",text:"Something went wrong :("}):this.app_model.processFilteredResults(e,t,!1)},processFilteredResults4Paging:function(e,t,s,a){t.selectedXrefs=[],t.filterModalActive=!1,a?this.$notify({group:"error",title:"",text:"Something went wrong :("}):(this.app_model.processFilteredResults(e,t,!0),t.displayEntries=t.entries.slice(s[0],s[1]))},applyFilter:function(e){this.filterLoading=!0;var t=e.dataset_counts,s="",a=new Set;for(var r in t){var i=t[r];i.selected&&(s+=this.xref_conf[i.dataset].id+",",a.add(this.xref_conf[i.dataset].id))}var n=[];if(e.lastFilteredPageKey=null,t.length==a.size)return n[0]=e,e.hasFilter=!1,e.filters="",void this.$root.$data.fetcher.searchEntry(e.identifier,this.xref_conf[e.dataset].id,this.processResetFilter.bind(this),n);e.filters=s,e.hasFilter=!0,this.$root.$data.fetcher.searchByFilter(e,this.xref_conf[e.dataset].id,this.processFilteredResults.bind(this),n)},processPagingResults:function(e,t){this.app_model.processPagingResults(e,t[0]),t[0].displayEntries=t[0].entries.slice(t[1],t[2])},processResetFilter:function(e,t){this.filterLoading=!1,console.log(e[0]),this.app_model.resetResult(e[0],t[0])},setDisplayEntries:function(e){var t=e.clientPage*this.app_conf.page_size,s=e.clientPage*this.app_conf.page_size+this.app_conf.page_size;if(s>e.count&&(s=e.count),s<=e.entries.length)e.displayEntries=e.entries.slice(t,s);else if(s<=e.count)if(e.hasFilter){var a=[t,s];this.$root.$data.fetcher.searchByFilter(e,this.xref_conf[e.dataset].id,this.processFilteredResults4Paging.bind(this),a)}else{var r=[e,t,s];this.$root.$data.fetcher.searchByPageIndex(e.identifier,this.xref_conf[e.dataset].id,e.serverPage,e.maxServerPage,this.processPagingResults.bind(this),r)}},previousPage:function(e){e.clientPage=e.clientPage-1,this.setDisplayEntries(e)},nextPage:function(e){e.clientPage=e.clientPage+1,this.setDisplayEntries(e)},removeXref:function(e,t){if(t){for(var s in t.selectedXrefs){var a=t.selectedXrefs[s];if(a.identifier===e.identifier&&a.dataset===e.dataset){t.selectedXrefs.splice(s,1);break}}for(var r in t.entries){var i=t.entries[r];e.identifier===i.identifier&&i.dataset===e.dataset&&(i.selected=!1,i.style["background-color"]=this.app_conf.box_color)}}},hideResults:function(e){e.showResults=!1},showResults:function(e){e.showResults=!0},selectAllFilter:function(e){for(var t in e.dataset_counts){var s=e.dataset_counts[t];s.selected=!0}},deSelectAllFilter:function(e){for(var t in e.dataset_counts){var s=e.dataset_counts[t];s.selected=!1}}},updated:function(){if(this.xrefSelected){var e=document.getElementById("sub_res"+this.lastSelectedRes.counter);this.$scrollTo(e),this.xrefSelected=!1}}},re=ae,ie=(s("ea1f"),s("0a87"),Object(p["a"])(re,J,V,!1,null,"88523c10",null)),ne=ie.exports,le={name:"search-main",props:{xref_conf:{type:Object,required:!0},app_conf:{type:Object,required:!0},app_model:{type:Object,required:!0},mobile:{type:Boolean,required:!0}},data:function(){return{searchResultActive:!1,topSearchBoxSize:50,searchLoading:!1,nextLoading:!1,nextPageKey:"",restUrl:"",showUrl:!1,resultIndex:0}},components:{"box-view":ne},methods:{resultDivClass:function(e){return e%2==0?"resultDivOdd":"resultDivEven"},processResults:function(e,t){this.app_model.queries[t[0]].nextPageKey=this.app_model.processResults(e,t[0]),this.app_model.queries[t[0]].restURL=t[1],this.app_model.queries[t[0]].loading=!1,this.app_model.queries[t[0]].retrieved=!0},search:function(e){this.app_model.queries[e].loading=!0,this.$root.$data.fetcher.search(this.app_model.queries[e].searchTerm,this.app_model.queries[e].nextPageKey,this.app_model.queries[e].filter,this.app_model.queries[e].selectedDataset,this.processResults.bind(this),[e,""])},selectQuery:function(e){this.resultIndex=e-this.app_model.previousMapQueryCount(e),this.app_model.queries[e].searchTerm.length>0&&!this.app_model.queries[e].retrieved&&this.search(e)},reset:function(){this.resultIndex=0}}},oe=le,ce=(s("8655"),Object(p["a"])(oe,G,X,!1,null,"aa1c77c6",null)),pe=ce.exports,ue=(s("a481"),s("d225")),me=s("b0b4"),de=function(){function e(t,s,a){Object(ue["a"])(this,e),this.fetcher=t,this.xref_conf=s,this.app_conf=a,this.app_comp=null,this.all_sub_results=[],this.all_map_results=[],this.queries=[],this.result_counter=0,this.hasGlobalFilter=this.app_conf.global_filter_datasets&&this.app_conf.global_filter_datasets.length>0}return Object(me["a"])(e,[{key:"freshSearchQuery",value:function(e){this.reset(),this.newQuery(0,e,"","")}},{key:"freshMapFilterQuery",value:function(e,t){this.reset(),this.newQuery(1,e,t,"")}},{key:"freshUseCaseQueries",value:function(e){this.reset();for(var t=0;t<e.length;t++){var s=e[t];0==s.type?this.newQuery(0,s.searchTerm,"",s.name,s.source,s.source):1==s.type&&this.newQuery(1,s.searchTerm,s.mapFilterTerm,s.name,s.source,s.source)}}},{key:"reset",value:function(){this.all_sub_results.splice(0,this.all_sub_results.length),this.all_map_results.splice(0,this.all_map_results.length),this.queries.splice(0,this.queries.length)}},{key:"newQuery",value:function(e,t,s,a,r,i){r||(r=""),i||(i=""),this.queries.push({name:a,type:e,mapFilterTerm:s,searchTerm:t,restURL:"",nextPageKey:"",filterActive:!1,filter:"",edit:!1,loading:!1,attributes:!0,retrieved:!1,showDatasets:!1,selectedDataset:r,selectedDatasetName:i}),1==e?this.all_map_results.push([]):0==e&&this.all_sub_results.push([])}},{key:"deleteQuery",value:function(e){0==this.queries[e].type?this.all_sub_results.splice(e-this.previousMapQueryCount(e),1):1==this.queries[e].type&&this.all_map_results.splice(e-this.previousSearchQueryCount(e),1),this.queries.splice(e,1)}},{key:"previousMapQueryCount",value:function(e){for(var t=0,s=e-1;s>=0;s--)1==this.queries[s].type&&t++;return t}},{key:"previousSearchQueryCount",value:function(e){for(var t=0,s=e-1;s>=0;s--)0==this.queries[s].type&&t++;return t}},{key:"setAppComp",value:function(e){this.app_comp=e}},{key:"setGlobHasFilter",value:function(e){this.hasGlobalFilter=e}},{key:"mapFilter",value:function(e,t){if(e.startsWith("alias:")){var s=e.split("alias:")[1];s.length<=1&&this.app_comp.notifyUser(0,"Alias input length must be greater than 1"),this.fetcher.mapFilter(e,s,t,this.processMPResults.bind(this))}else this.fetcher.mapFilter(e,"",t,this.processMPResults.bind(this))}},{key:"clearResults",value:function(){this.all_sub_results=[],this.all_map_results=[]}},{key:"processMPResults",value:function(e,t){var s=t-this.previousSearchQueryCount(t);return null==e?(this.app_comp.notifyUser(0,"No mapping found"),this.all_map_results.splice(s,1,[]),""):null!=e.Err?(e.Err=e.Err.replace("<input>","input"),this.app_comp.notifyUser(0,e.Err),this.all_map_results.splice(s,1,[]),""):e.results&&0!=e.results.length&&null!=e.results[0]&&e.results[0].targets?(this.all_map_results.splice(s,1,e.results),e.nextpage&&e.nextpage.length>0?e.nextpage:""):(this.app_comp.notifyUser(0,"No mapping found"),this.all_map_results.splice(s,1,[]),"")}},{key:"processResults",value:function(e,t){if(t-=this.previousMapQueryCount(t),this.all_sub_results[t].length=0,null==e)return this.app_comp.notifyUser(0,"No result found"),this.all_sub_results.splice(t,1,[]),"";if(null!=e.Err)return e.Err=e.Err.replace("<input>","input"),this.app_comp.notifyUser(0,e.Err),this.all_sub_results.splice(t,1,[]),"";if(e[0]&&null!=e[0].Err)return e[0].Err=e[0].Err.replace("<input>","input"),this.app_comp.notifyUser(0,e[0].Err),this.all_sub_results.splice(t,1,[]),"";var s=e.results;for(var a in s)this.prepareResult(s[a],0),this.hasGlobalFilter||this.addResult(s[a],t);return this.app_comp.searchLoading=!1,e.nextpage&&e.nextpage.length>0?e.nextpage:""}},{key:"addResult",value:function(e,t){var s=0;while(s<this.all_sub_results[t].length){if(e.count>this.all_sub_results[t][s].count)break;s++}this.all_sub_results[t].splice(s,0,e)}},{key:"prepareResult",value:function(e,t){this.result_counter++,e.counter=this.result_counter,e.showResults=!0,e.filterModalActive=!1,e.treeModal=!1,e.selectedXrefs=[],e.displayEntries=[],e.depth=t,this.preparePaging(e),this.prepareFilter(e),this.applyGlobFilter(e)}},{key:"prepareFilter",value:function(e){var t=e.dataset_counts;for(var s in t.sort(function(e,t){return e.count<t.count?1:e.count>t.count?-1:0}),t){var a=t[s];a.selected=!0;try{a.filterLabel=this.xref_conf[a.dataset].name+"("+a.count.toLocaleString()+")"}catch(r){a.filterLabel=a.dataset}}}},{key:"preparePaging",value:function(e){if(e.clientPage=0,e.maxClientPage=0,e.serverPage=0,e.maxServerPage=0,e.hasFilter){var t=0;for(var s in e.dataset_counts){var a=e.dataset_counts[s];a.selected&&(t+=a.count)}e.count=t}e.count>this.app_conf.page_size?(e.maxClientPage=Math.ceil(e.count/this.app_conf.page_size)-1,e.count>this.app_conf.server_result_page_size&&(e.maxServerPage=Math.ceil(e.count/this.app_conf.server_result_page_size)),e.displayEntries=e.entries.slice(0,this.app_conf.page_size)):e.displayEntries=e.entries,this.prepareEntries(e)}},{key:"prepareEntries",value:function(e){for(var t in e.entries){var s=e.entries[t];s.identifier.length<=12?(s.label=s.identifier,s.title=""):(s.label=s.identifier.substring(0,10)+"...",s.title=s.identifier),s.style={"background-color":this.app_conf.box_color}}}},{key:"resetResult",value:function(e,t){this.prepareEntries(e.entries),t.entries=e.entries,t.count=e.count,this.prepareResult(t,null,0)}},{key:"applyGlobFilter",value:function(e){if(this.hasGlobalFilter){var t=this.app_conf.global_filter_datasets,s=e.dataset_counts;for(var a in s)s[a].selected=!1;for(var r=!1,i=0;i<t.length;i++){var n=t[i];for(var l in s)s[l].dataset===n.id&&(r=!0,s[l].selected=!0)}if(r){var o="";for(var c in s){var p=s[c];p.selected&&(o+=p.dataset+",")}e.filters=o,e.hasFilter=!0,e.lastFilteredPageKey=null,this.fetcher.searchByFilter(e,this.processGlobalFilteredResults.bind(this),[])}else 0==e.depth&&this.addResult(e),e.count=0,e.displayEntries=[]}}},{key:"processSelectedXref",value:function(e,t){if(e.length>0){var s=e[0];return this.prepareResult(s,t[4].depth+1),t[4].selectedXrefs.unshift(s),t[5].selected=!0,t[5].style["background-color"]=this.app_conf.selected_box_color,s}}},{key:"processGlobalFilteredResults",value:function(e,t,s){this.processFilteredResults(e,t,!1),0==t.depth&&this.addResult(t)}},{key:"processFilteredResults",value:function(e,t,s){this.prepareEntries(e[0].results[0]),s?Array.prototype.push.apply(t.entries,e[0].results[0].entries):(t.entries=e[0].results[0].entries,this.preparePaging(t)),t.lastFilteredPageKey=e[0].results[0].identifier}},{key:"processPagingResults",value:function(e,t){for(var s in t.serverPage++,e){var a=e[s];for(var r in a.results){var i=a.results[r];i.identifier===t.identifier&&i.dataset===t.dataset&&(this.prepareEntries(i),Array.prototype.push.apply(t.entries,i.entries))}}}},{key:"resetPaging",value:function(){for(var e in this.all_sub_results)this.preparePaging(this.all_sub_results[e])}},{key:"resetBoxColors",value:function(){for(var e in this.all_sub_results){var t=this.all_sub_results[e];a(t,this.app_conf),s(t,this.app_conf)}function s(e,t){for(var r in e.selectedXrefs){var i=e.selectedXrefs[r];a(i,t),s(i,t)}}function a(e,t){for(var s in e.entries){var a=e.entries[s];a.selected?a.style["background-color"]=t.selected_box_color:a.style["background-color"]=t.box_color}}}}]),e}(),he={name:"biobtree-result",props:{xref_conf:{type:Object,required:!0},app_conf:{type:Object,required:!0},fetcher:{type:Object,required:!0},mobile:{type:Boolean,required:!0}},data:function(){return{topSearchBoxSize:50,nextLoading:!1,restUrl:"",showUrl:!1,selectedQueryIndex:0,options:[],app_model:null}},components:{VueJsonPretty:L.a,"map-filter":z,"search-main":pe},beforeMount:function(){this.app_model=new de(this.fetcher,this.xref_conf,this.app_conf),this.app_model.setAppComp(this)},methods:{findDataset:function(e){if(e.length>=3){for(var t in this.options=[],this.xref_conf)!this.xref_conf[t].linkdataset&&this.xref_conf[t].name.toLowerCase().includes(e.toLowerCase())&&this.options.push({id:this.xref_conf[t].id,name:this.xref_conf[t].name});this.options.sort(function(e,t){var s=e.name.toLowerCase(),a=t.name.toLowerCase();return s<a?-1:s>a?1:0})}else this.options=[]},onDatasetSelect:function(e){this.app_model.queries[this.selectedQueryIndex].selectedDataset=e.id,this.app_model.queries[this.selectedQueryIndex].selectedDatasetName=e.name,this.app_model.queries[this.selectedQueryIndex].showDatasets=!1,this.options=[],0==this.app_model.queries[this.selectedQueryIndex].type?this.search():1==this.app_model.queries[this.selectedQueryIndex].type&&this.mapFilter()},search:function(){if(0==this.app_model.queries[this.selectedQueryIndex].searchTerm.length)return!1;if(1==this.app_model.queries[this.selectedQueryIndex].searchTerm.length)return this.$notify({group:"appwarn",title:"",text:"Query must be at least 2 characters"}),!1;if(this.$refs.searchbox&&this.$refs.searchbox.blur(),this.app_model.queries[this.selectedQueryIndex].loading=!0,this.app_model.queries[this.selectedQueryIndex].searchTerm.startsWith("alias:")){var e=this.app_model.queries[this.selectedQueryIndex].searchTerm.split("alias:")[1];e.length<=1&&this.$notify({group:"appwarn",title:"",text:"Query must be at least 2 characters"})}this.$refs.searchComp.search(this.selectedQueryIndex)},mapFilter:function(){return 0!=this.app_model.queries[this.selectedQueryIndex].searchTerm.length&&(0!=this.app_model.queries[this.selectedQueryIndex].mapFilterTerm.length&&(this.app_model.queries[this.selectedQueryIndex].loading=!0,this.app_model.queries[this.selectedQueryIndex].nextPageKey="",void this.$refs.mapFilterComp.mapFilter(this.selectedQueryIndex)))},mapFilterMore:function(){this.app_model.queries[this.selectedQueryIndex].loading=!0,this.$refs.mapFilterComp.mapFilter(this.selectedQueryIndex)},resultDivClass:function(e){return e%2==0?"resultDivOdd":"resultDivEven"},newQuery:function(e){this.app_model.newQuery(e,"","",""),this.selectedQueryIndex=this.app_model.queries.length-1,0==e?this.$refs.searchComp.selectQuery(this.selectedQueryIndex):1==e&&this.$refs.mapFilterComp.selectQuery(this.selectedQueryIndex)},mapFilterHasResult:function(){var e=this.selectedQueryIndex-this.app_model.previousSearchQueryCount(this.selectedQueryIndex);return!!(this.app_model.all_map_results[e]&&this.app_model.all_map_results[e].length>0)},searchHasResult:function(){var e=this.selectedQueryIndex-this.app_model.previousMapQueryCount(this.selectedQueryIndex);return!!(this.app_model.all_sub_results[e]&&this.app_model.all_sub_results[e].length>0)},selectQuery:function(e){this.app_model.queries[this.selectedQueryIndex].attributes=!1,this.selectedQueryIndex=e,0==this.app_model.queries[e].type?this.$refs.searchComp.selectQuery(this.selectedQueryIndex):1==this.app_model.queries[e].type&&this.$refs.mapFilterComp.selectQuery(this.selectedQueryIndex),this.app_model.queries[this.selectedQueryIndex].attributes=!0},reset:function(){this.selectedQueryIndex=0,this.app_model.reset()},newSearch:function(){this.app_model.queries[this.selectedQueryIndex].nextPageKey="",this.search()},freshMapFilterQuery:function(e,t){this.selectedQueryIndex=0,this.$refs.mapFilterComp.reset(),this.app_model.freshMapFilterQuery(e,t)},freshSearchQuery:function(e){this.selectedQueryIndex=0,this.$refs.searchComp.reset(),this.app_model.freshSearchQuery(e)},deleteQuery:function(e){this.app_model.deleteQuery(e),this.selectedQueryIndex>=e&&(this.selectedQueryIndex=this.selectedQueryIndex-1)},queryLabel:function(e){return this.app_model.queries[e].name.length>0?this.app_model.queries[e].name:""+(e+1)},enableQueryEdit:function(e){this.app_model.queries[e].edit=!0},disableQueryEdit:function(e){this.app_model.queries[e].edit=!1},searchKeyUp:function(){this.app_model.queries[this.selectedQueryIndex].searchTerm.length>0?this.showExample=!1:this.showExample=!0},resetPaging:function(){this.app_model.resetPaging()},resetBoxColors:function(){this.app_model.resetPaging()},freshUseCaseQueries:function(e){this.selectedQueryIndex=0,this.$refs.searchComp.reset(),this.$refs.mapFilterComp.reset(),this.app_model.freshUseCaseQueries(e),0==this.app_model.queries[0].type?this.search():1==this.app_model.queries[0].type&&this.mapFilter()},notifyUser:function(e,t){this.$emit("notifyuser",e,t)}}},fe=he,_e=(s("60bc"),s("08a2"),Object(p["a"])(fe,U,R,!1,null,"402e8458",null)),ve=_e.exports,ye={name:"App",props:{app_model:{type:Object,required:!0},fetcher:{type:Object,required:!0},xref_conf:{type:Object,required:!0},app_conf:{type:Object,required:!0},usecases:{type:Object,required:!0}},components:{usecase:y,"biobtree-result":ve,about:m,bulk:w,api:P,settings:E},data:function(){return{searchTerm:"",mapFilterTerm:"",showExample:!0,aboutActive:!1,bulkActive:!1,resultActive:!1,settingsActive:!1,apiActive:!1,mainPageActive:!0,topSearchBoxSize:70,burgerBarActive:!1,searchPlaceHolder:"Search identifiers or special keywords like gene name with comma seperated e.g  vav_human,shh",mapFilterPlaceHolder:'Apply chain MapFilters e.g map(go).filter(go.type=="biological_process")',mobile:!1,nextPageKey:"",searchLoading:!1,mapFilterLoading:!1}},methods:{goToMain:function(){this.searchTerm="",this.mapFilterTerm="",this.settingsActive=!1,this.aboutActive=!1,this.mainPageActive=!0,this.bulkActive=!1,this.resultActive=!1,this.$refs.resultComp.reset(),history.pushState("","page","./?m")},goToBulk:function(){this.searchTerm="",this.mainPageActive=!1,this.settingsActive=!1,this.aboutActive=!1,this.bulkActive=!0,this.$refs.resultComp.reset(),history.pushState("","page","./?b")},goToAbout:function(){this.searchTerm="",this.mainPageActive=!1,this.settingsActive=!1,this.aboutActive=!0,this.bulkActive=!1,this.$refs.resultComp.reset(),history.pushState("","page","./?a")},goToSettings:function(){this.searchTerm="",this.mainPageActive=!1,this.aboutActive=!1,this.settingsActive=!0,this.bulkActive=!1,this.resultActive=!1,this.$refs.resultComp.reset(),history.pushState("","page","./?s")},notifyUser:function(e,t){switch(e){case-1:this.$notify({group:"error",title:"",text:t,duration:4e3});break;case 0:this.$notify({group:"appwarn",title:"",text:t,duration:4e3});break;case 1:this.$notify({group:"success",title:"",text:t});default:this.$notify({group:"appwarn",title:"",text:t,duration:4e3});break}},mapFilter:function(){this.validQuery2()&&(history.pushState("","page","./?r"),this.mapFilterLoading=!0,this.mainPageActive=!1,this.settingsActive=!1,this.aboutActive=!1,this.bulkActive=!1,this.$refs.resultComp.freshMapFilterQuery(this.searchTerm,this.mapFilterTerm),this.resultActive=!0,this.$refs.resultComp.mapFilter(),this.mapFilterLoading=!1)},search:function(){this.validQuery()&&(history.pushState("","page","./?r"),this.searchLoading=!0,this.mainPageActive=!1,this.settingsActive=!1,this.aboutActive=!1,this.bulkActive=!1,this.$refs.resultComp.freshSearchQuery(this.searchTerm),this.resultActive=!0,this.$refs.resultComp.search(),this.searchLoading=!1)},validQuery:function(){return this.searchTerm=this.searchTerm.trim(),0!=this.searchTerm.length&&(1!=this.searchTerm.length||(this.notifyUser(0,"Query must be at least 2 characters"),!1))},searchNoHistory:function(){this.validQuery()},mapNoHistory:function(){this.validQuery()&&this.mapFilter(this.searchTerm,this.mapFilterTerm)},validQuery2:function(){return this.searchTerm=this.searchTerm.trim(),0==this.searchTerm.length?(this.notifyUser(0,"Search term required for mapping"),!1):1==this.searchTerm.length?(this.notifyUser(0,"Query must be at least 2 characters"),!1):0!=this.mapFilterTerm},searchKeyUp:function(){this.searchTerm.length>0?this.showExample=!1:this.showExample=!0},mapFilterKeyUp:function(){this.searchTerm.length>0?this.showExample=!1:this.showExample=!0},popStateChange:function(e){this.goToMain()},applySettings:function(){var e=parseInt(this.app_conf.page_size_new);e!=this.app_conf.page_size&&(this.app_conf.page_size=e,this.$refs.resultComp.resetPaging());var t=!1;this.app_conf.box_color_new!==this.app_conf.box_color&&(this.app_conf.box_color=this.app_conf.box_color_new,t=!0),this.app_conf.selected_box_color_new!==this.app_conf.selected_box_color&&(this.app_conf.selected_box_color=this.app_conf.selected_box_color_new,t=!0),t&&this.$refs.resultComp.resetBoxColors(),this.notifyUser(1,"Settings applied.")},useCaseQuery:function(e){this.searchTerm=e,this.search()},newMfQuery:function(){this.$refs.resultComp.newQuery(1)},newSearchQuery:function(){this.$refs.resultComp.newQuery(0)},mapFilterActive:function(){return!!this.$refs.mapFilterComp&&this.$refs.mapFilterComp.mapFilterActive},searchResultActive:function(){return!!this.$refs.searchComp&&this.$refs.searchComp.searchResultActive},execUseCase:function(e){this.execCatUseCases([e])},execCatUseCases:function(e){!e&&e.length<=0||(this.searchLoading=!0,this.mainPageActive=!1,this.settingsActive=!1,this.aboutActive=!1,this.bulkActive=!1,this.$refs.resultComp.freshUseCaseQueries(e),this.resultActive=!0,history.pushState("","page","./?r"),this.searchLoading=!1)}},mounted:function(){window.addEventListener("popstate",this.popStateChange),window.innerWidth<500?(this.topSearchBoxSize=15,this.app_conf.page_size=9,this.app_conf.page_size_new=9,this.searchPlaceHolder="Search",this.mapFilterPlaceHolder="Apply Mapping",this.mobile=!0):window.innerWidth<=1500&&(this.topSearchBoxSize=35,this.app_conf.page_size=18,this.app_conf.page_size_new=18)},beforeMount:function(){var e=document.location.search;e.length>2&&(this.searchTerm=decodeURIComponent(e.substring(1,e.length)),this.searchNoHistory()),this.app_model.setAppComp(this)}},be=ye,ge=(s("034f"),Object(p["a"])(be,r,i,!1,null,null,null)),xe=ge.exports,Ce=s("ee98"),Te=s.n(Ce),we=s("f13c"),Ae=s.n(we),Fe=s("8e5f"),qe=s.n(Fe),ke=function(){function e(t){Object(ue["a"])(this,e),this.endpoint=t}return Object(me["a"])(e,[{key:"search",value:function(e,t,s,a,r,i){var n=this.endpoint+"?u=y&d=y&i="+encodeURIComponent(e);t.length>0&&(n=n+"&p="+t),s.length>0&&(n=n+"&f="+s),a.length>0&&(n=n+"&s="+a),i[1]=n,fetch(n).then(function(e){return e.json()}).then(function(e){r(e,i)}).catch(function(e){var t={Err:e.message};r(t,i)})}},{key:"searchEntry",value:function(e,t,s,a){fetch(this.endpoint+"entry/?i="+encodeURIComponent(e)+"&s="+t).then(function(e){return e.json()}).then(function(e){s(e,a)}).catch(function(e){throw e})}},{key:"mapFilter",value:function(e,t,s,a,r,i){var n=this.endpoint+"map/?i="+encodeURIComponent(e);n=n+"&m="+encodeURIComponent(t),s.length>0&&(n=n+"&p="+s),a.length>0&&(n=n+"&s="+a),i[1]=n,fetch(n).then(function(e){return e.json()}).then(function(e){r(e,i)}).catch(function(e){var t={Err:e.message};r(t,i)})}},{key:"searchByFilter",value:function(e,t,s,a){var r=this.endpoint+"filter/?i="+e.identifier+"&s="+t+"&f="+e.filters;e.lastFilteredPageKey&&e.lastFilteredPageKey.length>0&&(r+="&p="+e.lastFilteredPageKey),fetch(r).then(function(e){return e.json()}).then(function(t){s(t,e,a)}).catch(function(e){throw e})}},{key:"searchByPageIndex",value:function(e,t,s,a,r,i){fetch(this.endpoint+"page/?i="+e+"&s="+t+"&p="+s+"&t="+a).then(function(e){return e.json()}).then(function(e){r(e,i)}).catch(function(e){throw e})}}]),e}(),Me={page_size:18,page_size_new:18,server_result_page_size:200,global_filter_datasets:[],global_filter_datasets_new:[],box_color:"#ffe4c4",box_color_new:"#ffe4c4",selected_box_color:"#afeeee",selected_box_color_new:"#afeeee",colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},Pe=Me,Se={mix:[{name:"search identifiers",type:"0",source:"",searchTerm:"RAG1_HUMAN,ENSMUSG00000023456,GO:0002020,CHEMBL2242,AC020895,hsa:7409",mapFilterTerm:""},{name:"proteins to go term biological",type:"1",source:"",searchTerm:"SHH_HUMAN,P53_HUMAN,RAG1_HUMAN",mapFilterTerm:'map(go).filter(go.type=="biological_process")'},{name:"cancer related genes to protein mutation features",type:"1",source:"hgnc",searchTerm:"PMS2,MLH1,MSH2,MSH6,STK11,BMPR1A,SMAD4,BRCA1,BRCA2,TP53,PTEN,PALB2,TSC1,TSC2,FLCN,MET,CDKN2A,RB1",mapFilterTerm:'map(uniprot).map(ufeature).filter(ufeature.type=="mutagenesis site")'},{name:"proteins to interpro with Domain type",type:"1",source:"",searchTerm:"SHH_HUMAN,P53_HUMAN,RAG1_HUMAN,CLOCK_HUMAN,BMAL1_HUMAN,AICDA_HUMAN,AT5G3_HUMAN",mapFilterTerm:'map(interpro).filter(interpro.type=="Domain")'},{name:"ensembl human genes to mouse Ortholog genes",type:"1",source:"",searchTerm:"SHH,VAV1,TP53",mapFilterTerm:'filter(ensembl.genome=="homo_sapiens").map(ortholog).filter(ensembl.genome=="mus_musculus")'},{name:"kinase activity goterm to hgnc genes",type:"1",source:"",searchTerm:"GO:0004707",mapFilterTerm:"map(ensembl).map(hgnc)"},{name:"probe id to ensembl then hgnc by location",type:"1",source:"",searchTerm:"202763_at,209310_s_at,207500_at",mapFilterTerm:'map(transcript).map(ensembl).filter(ensembl.genome=="homo_sapiens").map(hgnc).filter(hgnc.location=="4q35.1")'},{name:"crispr cas9 genes by genomes to transcript",type:"1",source:"",searchTerm:"cas9",mapFilterTerm:'filter(ensembl.genome=="campylobacter_coli_gca_001717605").map(transcript)'},{name:"inflammatory bowel disease to chembl molecules phase 3,4",type:"1",source:"",searchTerm:"inflammatory bowel disease",mapFilterTerm:"map(chembl_molecule).filter(chembl.molecule.highestDevelopmentPhase>2)"},{name:"taxid to its grand children by division",type:"1",source:"",searchTerm:"862507",mapFilterTerm:'map(taxchild).map(taxchild).filter(taxonomy.taxonomic_division=="ROD")'}],gene:[{name:"search crispr cas9 genes",type:"0",source:"",searchTerm:"cas9",mapFilterTerm:""},{name:"ensembl id to Entrez id",type:"1",source:"",searchTerm:"ENSG00000139618",mapFilterTerm:"map(entrez)"},{name:"entrez id to ensembl then goterm",type:"1",source:"",searchTerm:"675",mapFilterTerm:"map(ensembl).map(go)"},{name:"genes to molecular goterm",type:"1",source:"",searchTerm:"tpi1,shh",mapFilterTerm:'filter(ensembl.genome=="homo_sapiens").map(go).filter(go.type=="molecular_function")'},{name:"crispr cas9 genes to transcripts",type:"1",source:"",searchTerm:"cas9",mapFilterTerm:"map(transcript)"},{name:"crispr cas9 genes by genomes to ENA",type:"1",source:"",searchTerm:"cas9",mapFilterTerm:'filter(ensembl.genome=="campylobacter_coli_gca_001717605").map(ena)'},{name:"crispr cas9 genes by genomes to go terms",type:"1",source:"",searchTerm:"cas9",mapFilterTerm:'filter(ensembl.genome=="campylobacter_coli_gca_001717605").map(go).filter(go.type=="biological_process")'},{name:"crispr cas9 genes to NCBI Genbank",type:"1",source:"",searchTerm:"cas9",mapFilterTerm:"map(ena).map(genbank)"},{name:"cancer related genes to transcripts",type:"1",source:"",searchTerm:"PMS2,MLH1,MSH2,MSH6,STK11,BMPR1A,SMAD4,BRCA1,BRCA2,TP53,PTEN,PALB2,TSC1,TSC2,FLCN,MET,CDKN2A,RB1",mapFilterTerm:'filter(ensembl.genome=="homo_sapiens").map(transcript)'},{name:"cancer related genes to uniprot",type:"1",source:"",searchTerm:"PMS2,MLH1,MSH2,MSH6,STK11,BMPR1A,SMAD4,BRCA1,BRCA2,TP53,PTEN,PALB2,TSC1,TSC2,FLCN,MET,CDKN2A,RB1",mapFilterTerm:'filter(ensembl.genome=="homo_sapiens").map(uniprot)'},{name:"cancer related genes to uniprot go terms",type:"1",source:"",searchTerm:"PMS2,MLH1,MSH2,MSH6,STK11,BMPR1A,SMAD4,BRCA1,BRCA2,TP53,PTEN,PALB2,TSC1,TSC2,FLCN,MET,CDKN2A,RB1",mapFilterTerm:'filter(ensembl.genome=="homo_sapiens").map(uniprot).map(go)'},{name:"cancer related genes to uniprot via hgnc",type:"1",source:"hgnc",searchTerm:"PMS2,MLH1,MSH2,MSH6,STK11,BMPR1A,SMAD4,BRCA1,BRCA2,TP53,PTEN,PALB2,TSC1,TSC2,FLCN,MET,CDKN2A,RB1",mapFilterTerm:"map(uniprot).filter(uniprot.reviewed)"},{name:"cancer related genes to uniprot go terms via hgnc",type:"1",source:"hgnc",searchTerm:"PMS2,MLH1,MSH2,MSH6,STK11,BMPR1A,SMAD4,BRCA1,BRCA2,TP53,PTEN,PALB2,TSC1,TSC2,FLCN,MET,CDKN2A,RB1",mapFilterTerm:'map(uniprot).filter(uniprot.reviewed).map(go).filter(go.type=="cellular_component")'},{name:"ensembl id to protein coding transcripts",type:"1",source:"",searchTerm:"ENSG00000073910",mapFilterTerm:'map(transcript).filter(transcript.biotype=="protein_coding")'},{name:"probe id to ensembl",type:"1",source:"",searchTerm:"202763_at,209310_s_at,207500_at",mapFilterTerm:'map(transcript).map(ensembl).filter(ensembl.genome=="homo_sapiens")'},{name:"probe id to ensembl then hgnc",type:"1",source:"",searchTerm:"202763_at,209310_s_at,207500_at",mapFilterTerm:"map(transcript).map(ensembl).map(hgnc)"},{name:"ensembl with location then uniprot reviewed",type:"1",source:"",searchTerm:"homo_sapiens",mapFilterTerm:'map(ensembl).filter(ensembl.start>100000000 && ensembl.seq_region_name=="X").map(uniprot).filter(uniprot.reviewed)'},{name:"ensembl id to exons",type:"1",source:"",searchTerm:"ENSG00000141510",mapFilterTerm:"map(transcript).map(exon)"},{name:"to exons by region",type:"1",source:"",searchTerm:"tp53",mapFilterTerm:'map(transcript).filter(transcript.biotype=="protein_coding").map(exon).filter(exon.seq_region_name=="17")'},{name:"to exons by location",type:"1",source:"",searchTerm:"tp53",mapFilterTerm:'map(transcript).filter(transcript.biotype=="protein_coding").map(exon).filter(exon.end >= 7687538)'},{name:"ensembl id to orthologs",type:"1",source:"",searchTerm:"ENSG00000139618",mapFilterTerm:"map(ortholog)"},{name:"orthologs",type:"1",source:"",searchTerm:"shh",mapFilterTerm:'filter(ensembl.genome=="homo_sapiens").map(ortholog)'},{name:"ensembl id to paralog",type:"1",source:"",searchTerm:"ENSG00000073910",mapFilterTerm:"map(paralog)"},{name:"name to paralog transcripts",type:"1",source:"",searchTerm:"FRY",mapFilterTerm:'filter(ensembl.genome=="homo_sapiens").map(paralog).map(transcript)'},{name:"refseq to interpro family",type:"1",source:"",searchTerm:"NM_005359,NM_000546",mapFilterTerm:'map(hgnc).map(uniprot).map(interpro).filter(interpro.type=="Family")'},{name:"refseq to interpro domain",type:"1",source:"",searchTerm:"NM_005359,NM_000546",mapFilterTerm:'map(hgnc).map(uniprot).map(interpro).filter(interpro.type=="Domain")'},{name:"ensembl human genes with MAP kinase activity",type:"1",source:"",searchTerm:"GO:0004707",mapFilterTerm:'map(ensembl).filter(ensembl.branch==1 && ensembl.genome=="homo_sapiens")'}],protein:[{name:"search identifiers",type:"0",source:"",searchTerm:"RAG1_HUMAN,CLOCK_HUMAN,BMAL1_HUMAN,SHH_HUMAN,AICDA_HUMAN,AT5G3_HUMAN,P53_HUMAN",mapFilterTerm:""},{name:"search & filter by name",type:"1",source:"",searchTerm:"RAG1_HUMAN,CLOCK_HUMAN,BMAL1_HUMAN,SHH_HUMAN,AICDA_HUMAN,AT5G3_HUMAN,P53_HUMAN",mapFilterTerm:'filter(uniprot.names.exists(a,a=="Sonic hedgehog protein"))'},{name:"search & filter by sequence mass",type:"1",source:"",searchTerm:"RAG1_HUMAN,CLOCK_HUMAN,BMAL1_HUMAN,SHH_HUMAN,AICDA_HUMAN,AT5G3_HUMAN,P53_HUMAN",mapFilterTerm:"filter(uniprot.sequence.mass > 45000)"},{name:"search & filter by sequence size",type:"1",source:"",searchTerm:"RAG1_HUMAN,CLOCK_HUMAN,BMAL1_HUMAN,SHH_HUMAN,AICDA_HUMAN,AT5G3_HUMAN,P53_HUMAN",mapFilterTerm:"filter(size(uniprot.sequence.seq) > 400)"},{name:"go term molecular",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(go).filter(go.type=="molecular_function")'},{name:"go term cellular",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(go).filter(go.type=="cellular_component")'},{name:"go term boolean",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(go).filter(go.name.contains("binding") || go.name.contains("activity"))'},{name:"filter first then go terms contains word",type:"1",source:"",searchTerm:"SHH_HUMAN,P53_HUMAN,RAG1_HUMAN,CLOCK_HUMAN,BMAL1_HUMAN,AICDA_HUMAN,AT5G3_HUMAN",mapFilterTerm:'filter(size(uniprot.sequence.seq) > 400).map(go).filter(go.name.contains("binding") || go.name.contains("activity"))'},{name:"interpro Conserved site",type:"1",source:"",searchTerm:"SHH_HUMAN,P53_HUMAN,RAG1_HUMAN,CLOCK_HUMAN,BMAL1_HUMAN,AICDA_HUMAN,AT5G3_HUMAN",mapFilterTerm:'map(interpro).filter(interpro.type=="Conserved_site")'},{name:"ENA type mRNA",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(ena).filter(ena.type=="mrna")'},{name:"ENA type genomic DNA",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(ena).filter(ena.type=="genomic_dna")'},{name:"to refseqs",type:"1",source:"",searchTerm:"RAG1_HUMAN,CLOCK_HUMAN,BMAL1_HUMAN,SHH_HUMAN,AICDA_HUMAN,AT5G3_HUMAN,P53_HUMAN",mapFilterTerm:"map(refseq)"},{name:"cancer related gene variants",type:"1",source:"hgnc",searchTerm:"PMS2,MLH1,MSH2,MSH6,STK11,BMPR1A,SMAD4,BRCA1,BRCA2,TP53,PTEN,PALB2,TSC1,TSC2,FLCN,MET,CDKN2A,RB1",mapFilterTerm:"map(uniprot).filter(uniprot.reviewed).map(ufeature).map(variantid)"},{name:"feature helix type",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(ufeature).filter(ufeature.type=="helix")'},{name:"feature sequence variant",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(ufeature).filter(ufeature.type=="sequence variant")'},{name:"genes to mutation feature or contains",type:"1",source:"",searchTerm:"her2,ras,p53",mapFilterTerm:'map(uniprot).map(ufeature).filter(ufeature.type=="mutagenesis site" || ufeature.description.contains("cancer"))'},{name:"feature location",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:"map(ufeature).filter(ufeature.location.begin>0 && ufeature.location.end<300)"},{name:"feature description contains",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(ufeature).filter(ufeature.description.contains("tumor"))'},{name:"feature specific variant",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(ufeature).filter(ufeature.original=="I" && ufeature.variation=="S")'},{name:"feature maps variantid",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(ufeature).filter(ufeature.original=="I" && ufeature.variation=="S").map(variantid)'},{name:"feature has evidences",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:"map(ufeature).filter(size(ufeature.evidences)>1)"},{name:"feature has experimental evidence",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(ufeature).filter(ufeature.evidences.exists(a,a.type=="ECO:0000269"))'},{name:"feature has pubmed evidence",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(ufeature).filter(ufeature.evidences.exists(a,a.source=="pubmed"))'},{name:"feature pdb evidence",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(ufeature).filter(ufeature.evidences.exists(a,a.source=="pdb"))'},{name:"pdb method NMR",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(pdb).filter(pdb.method=="nmr")'},{name:"pdb chains",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(pdb).filter(pdb.chains=="A/C=95-292")'},{name:"pdb resolution",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(pdb).filter(pdb.resolution=="2.60 A")'},{name:"pdb method or chains",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(pdb).filter(pdb.method=="nmr" || pdb.chains=="C/D=1-177")'},{name:"reactome activation pathways",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(reactome).filter(reactome.pathway.contains("activation"))'},{name:"reactome signaling pathways",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(reactome).filter(reactome.pathway.contains("signaling"))'},{name:"reactome regulation pathways",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(reactome).filter(reactome.pathway.contains("Regulation"))'},{name:"orphanet disease name",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:'map(orphanet).filter(orphanet.disease.contains("cancer"))'},{name:"durgs by drugbank",type:"1",source:"",searchTerm:"shh_human,P53_HUMAN",mapFilterTerm:"map(drugbank)"}],chembl:[{name:"search target",type:"0",source:"",searchTerm:"CHEMBL2242",mapFilterTerm:""},{name:"search target component",type:"0",source:"",searchTerm:"CHEMBL_TC_47",mapFilterTerm:""},{name:"target single protein to uniprot",type:"1",source:"",searchTerm:"CHEMBL2789",mapFilterTerm:'filter(chembl.target.type=="single_protein").map(chembl_target_component).map(uniprot)'},{name:"cancer related genes to targets",type:"1",source:"hgnc",searchTerm:"PMS2,MLH1,MSH2,MSH6,STK11,BMPR1A,SMAD4,BRCA1,BRCA2,TP53,PTEN,PALB2,TSC1,TSC2,FLCN,MET,CDKN2A,RB1",mapFilterTerm:"map(uniprot).map(chembl_target_component).map(chembl_target)"},{name:"cancer related genes to target with type",type:"1",source:"hgnc",searchTerm:"PMS2,MLH1,MSH2,MSH6,STK11,BMPR1A,SMAD4,BRCA1,BRCA2,TP53,PTEN,PALB2,TSC1,TSC2,FLCN,MET,CDKN2A,RB1",mapFilterTerm:'map(uniprot).map(chembl_target_component).map(chembl_target).filter(chembl.target.type=="protein-protein_interaction")'},{name:"search molecule",type:"0",source:"",searchTerm:"GSK2606414",mapFilterTerm:""},{name:"search molecule by smiles",type:"0",source:"",searchTerm:"Cn1cc(c2ccc3N(CCc3c2)C(=O)Cc4cccc(c4)C(F)(F)F)c5c(N)ncnc15",mapFilterTerm:""},{name:"search molecule by inchi key",type:"0",source:"",searchTerm:"SIXVRXARNAVBTC-UHFFFAOYSA-N",mapFilterTerm:""},{name:"molecule activities",type:"1",source:"",searchTerm:"GSK2606414",mapFilterTerm:"map(chembl_activity)"},{name:"molecule activities filter bao",type:"1",source:"",searchTerm:"GSK2606414",mapFilterTerm:'map(chembl_activity).filter(chembl.activity.bao=="BAO_0000190")'},{name:"molecule activities filter value",type:"1",source:"",searchTerm:"GSK2606414",mapFilterTerm:"map(chembl_activity).filter(chembl.activity.value > 10.0)"},{name:"molecule activities AND",type:"1",source:"",searchTerm:"GSK2606414",mapFilterTerm:'map(chembl_activity).filter(chembl.activity.value > 10.0 && chembl.activity.bao=="BAO_0000190")'},{name:"molecule activities OR",type:"1",source:"",searchTerm:"GSK2606414",mapFilterTerm:"map(chembl_activity).filter(chembl.activity.value>10.0 || chembl.activity.pChembl>5.0)"},{name:"molecule targets",type:"1",source:"",searchTerm:"GSK2606414",mapFilterTerm:"map(chembl_activity).map(chembl_document).map(chembl_assay).map(chembl_target)"},{name:"search document",type:"0",source:"",searchTerm:"CHEMBL3421631",mapFilterTerm:""},{name:"document activities",type:"1",source:"",searchTerm:"CHEMBL1121978",mapFilterTerm:"map(chembl_activity)"},{name:"document assay",type:"1",source:"",searchTerm:"CHEMBL3421631",mapFilterTerm:"map(chembl_assay)"},{name:"document assay filter",type:"1",source:"",searchTerm:"CHEMBL3421631",mapFilterTerm:'map(chembl_assay).filter(chembl.assay.type=="Functional" || chembl.assay.type=="Binding")'},{name:"document cell line",type:"1",source:"",searchTerm:"CHEMBL3421631",mapFilterTerm:"map(chembl_assay).map(chembl_cell_line)"},{name:"document cell line Filter",type:"1",source:"",searchTerm:"CHEMBL3421631",mapFilterTerm:'map(chembl_assay).map(chembl_cell_line).filter(chembl.cellLine.tax=="9615" || chembl.cellLine.efo=="EFO_0002841")'},{name:"document target",type:"1",source:"",searchTerm:"CHEMBL3421631",mapFilterTerm:"map(chembl_assay).map(chembl_target)"},{name:"document target protein type",type:"1",source:"",searchTerm:"CHEMBL3421631",mapFilterTerm:'map(chembl_assay).map(chembl_target).filter(chembl.target.type=="single_protein")'},{name:"document target tissue",type:"1",source:"",searchTerm:"CHEMBL3421631",mapFilterTerm:'map(chembl_assay).map(chembl_target).filter(chembl.target.type=="tissue")'},{name:"document target organism",type:"1",source:"",searchTerm:"CHEMBL3421631",mapFilterTerm:'map(chembl_assay).map(chembl_target).filter(chembl.target.type=="organism")'},{name:"document target protein uniprot",type:"1",source:"",searchTerm:"CHEMBL3421631",mapFilterTerm:"map(chembl_assay).map(chembl_target).map(chembl_target_component).map(uniprot)"},{name:"document molecule",type:"1",source:"",searchTerm:"CHEMBL3421631",mapFilterTerm:"map(chembl_molecule)"},{name:"document molecule filter",type:"1",source:"",searchTerm:"CHEMBL3421631",mapFilterTerm:"map(chembl_molecule).filter(chembl.molecule.heavyAtoms < 30.0 && chembl.molecule.aromaticRings <2.0)"},{name:"search assay",type:"0",source:"",searchTerm:"CHEMBL615156",mapFilterTerm:""},{name:"assay target",type:"1",source:"",searchTerm:"CHEMBL615156",mapFilterTerm:"map(chembl_target)"},{name:"assay cell line",type:"1",source:"",searchTerm:"CHEMBL3424821",mapFilterTerm:"map(chembl_cell_line)"},{name:"assay target protein",type:"1",source:"",searchTerm:"CHEMBL615156",mapFilterTerm:'map(chembl_target).filter(chembl.target.type=="single_protein")'},{name:"assay target protein uniprot",type:"1",source:"",searchTerm:"CHEMBL615156",mapFilterTerm:"map(chembl_target).map(chembl_target_component).map(uniprot)"},{name:"search activity",type:"0",source:"",searchTerm:"CHEMBL_ACT_93229",mapFilterTerm:""},{name:"activity molecule with filter",type:"1",source:"",searchTerm:"CHEMBL_ACT_93229",mapFilterTerm:'filter(chembl.activity.bao=="BAO_0000179").map(chembl_molecule)'},{name:"search cell line",type:"0",source:"",searchTerm:"CHEMBL3307241",mapFilterTerm:""},{name:"search cell line assay",type:"1",source:"",searchTerm:"CHEMBL3307241",mapFilterTerm:"map(chembl_assay)"}],"taxonomy&ontology":[{name:"taxonomy children",type:"1",source:"",searchTerm:"9606",mapFilterTerm:"map(taxchild)"},{name:"taxonomy grand children",type:"1",source:"",searchTerm:"862507",mapFilterTerm:"map(taxchild).map(taxchild)"},{name:"taxonomy grand^2 parent",type:"1",source:"",searchTerm:"10090",mapFilterTerm:"map(taxparent).map(taxparent).map(taxparent)"},{name:"taxonomy Asian children",type:"1",source:"",searchTerm:"10090",mapFilterTerm:'map(taxchild).filter(taxonomy.common_name.contains("Asian"))'},{name:"taxonomy European children",type:"1",source:"",searchTerm:"10090",mapFilterTerm:'map(taxchild).filter(taxonomy.common_name.contains("European"))'},{name:"go term parent",type:"1",source:"",searchTerm:"GO:0004707",mapFilterTerm:"map(goparent)"},{name:"go term parent type",type:"1",source:"",searchTerm:"GO:0004707",mapFilterTerm:'map(goparent).filter(go.type=="biological_process")'},{name:"efo disaease name",type:"0",source:"",searchTerm:"inflammatory bowel disease",mapFilterTerm:""},{name:"efo children",type:"1",source:"",searchTerm:"EFO:0003767",mapFilterTerm:"map(efochild)"},{name:"efo parent",type:"1",source:"",searchTerm:"EFO:0000384",mapFilterTerm:"map(efoparent)"},{name:"eco children",type:"1",source:"",searchTerm:"ECO:0000269",mapFilterTerm:"map(ecochild)"},{name:"eco parent",type:"1",source:"",searchTerm:"ECO:0007742",mapFilterTerm:"map(ecoparent)"}]},Ne=Se;a["default"].config.productionTip=!1,a["default"].use(Te.a),a["default"].use(Ae.a,{container:"body",duration:500,easing:"ease",offset:-50,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0}),a["default"].component("multiselect",qe.a),new a["default"]({el:"#app",data:function(){return{fetcher:null,xref_conf:null,model:null,app_conf:null,usecases:null}},components:{App:xe},template:'<App :xref_conf="this.xref_conf" :app_conf="this.app_conf" :app_model="this.model" :fetcher="this.fetcher" :usecases="this.usecases"/>',beforeMount:function(){var e="http://localhost:8888/ws/";this.fetcher=new ke(e);var t=new XMLHttpRequest;t.open("GET",e+"meta/",!1),t.send(null),200===t.status&&(this.xref_conf=JSON.parse(t.responseText)),this.app_conf=Pe,this.usecases=Ne,this.model=new de(this.fetcher,this.xref_conf,this.app_conf)}})},"5dc5":function(e,t,s){"use strict";var a=s("623a"),r=s.n(a);r.a},"623a":function(e,t,s){},"79db":function(e,t,s){"use strict";var a=s("a960"),r=s.n(a);r.a},8655:function(e,t,s){"use strict";var a=s("cd91"),r=s.n(a);r.a},"941b":function(e,t,s){"use strict";var a=s("3430"),r=s.n(a);r.a},"9c79":function(e,t,s){},a960:function(e,t,s){},afb1:function(e,t,s){"use strict";var a=s("4a4e"),r=s.n(a);r.a},bb02:function(e,t,s){"use strict";var a=s("0eb8"),r=s.n(a);r.a},cd8d:function(e,t,s){"use strict";var a=s("9c79"),r=s.n(a);r.a},cd91:function(e,t,s){},d9f6:function(e,t,s){},dff0:function(e,t,s){},ea1f:function(e,t,s){"use strict";var a=s("3a87"),r=s.n(a);r.a}});
//# sourceMappingURL=app.291968b7.js.map